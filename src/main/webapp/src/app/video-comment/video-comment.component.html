<div class="video-comment">
  <md-card *ngIf="blobkey">
    <div class="video-display">
      <video class="video-js" controls preload="auto" data-setup='{}'>
        <source src="https://video-assessment.appspot.com/serve?blobkey={{blobkey}}" type="video/mp4">
      </video>
    </div>
  </md-card>

  <md-card>
    <md-card-title>SummaryÔºèSuggestions</md-card-title>
    <md-input-container class="comment">
      <textarea mdInput [(ngModel)]="comments[0]"></textarea>
    </md-input-container>
    <ul *ngIf="assessments.has(0)">
      <li *ngFor="let assessment of assessments.get(0)">
        {{assessment.comment}}
      </li>
    </ul>
    <md-divider></md-divider>
    <md-card-content>
      <md-spinner *ngIf="loadingTemplate || loadingAssessments"></md-spinner>
      <div *ngIf="!(loadingTemplate || loadingAssessments)">
        <md-list class="comment-list" *ngFor="let section of [0, 1, 2, 3]">
          <h3>{{getSectionTitle(section)}}</h3>
          <md-list-item *ngFor="let question of questions.slice(5 * section, 5 * section + 5); let i = index">
            <div class="question-comment">
              <div>({{i + 1}}) {{getPositive(question)}}</div>
              <div>
                <md-slider class="score-slider" 
                          [min]="0" 
                          [max]="10" 
                          [step]="1" 
                          #score 
                          aria-label="set a score"
                          [(ngModel)]="scores[i + section * 5]">
                </md-slider>
                {{score.value == 0 ? 'irrelevant' : score.value}}
              </div>
              <ul *ngIf="assessments.has(i + section * 5)">
                <li *ngFor="let assessment of assessments.get(i + section * 5)">
                  Received score: {{assessment.score}}
                </li>
              </ul>
            </div>
          </md-list-item>
        <md-divider *ngIf="section != 3" class="template-divider"></md-divider>
        </md-list>
      </div>
      <div class="action-buttons">
        <button md-raised-button
                class="submit"
                color="primary"
                [disabled]="submitting || disableSubmit"
                (click)="submit()"
                md-button>Submit</button>
      </div>
    </md-card-content>
  </md-card>
</div>